# React - Virtual DOM

## 설명

- 브라우저는 화면을 그리기 위해서 DOM이라는 개념을 사용합니다.
- DOM은 브라우저가 화면을 그리기 위해서 필요한 정보가 트리 형태로 저장된 데이터입니다.

### Virtual DOM이란?

- Virtual DOM을 사용하면 실제 DOM에 접근하여 조작하는 대신에 이를 추상화한 자바스크립트 객체를 구성하여 사용합니다.
- 실제 DOM의 가벼운 사본이라고 볼 수 있습니다.

### Virtual DOM이 존재하는 이유

- React에서 사용하는 가상 DOM도 실제 DOM 내용에 기반하여 만들어집니다.
- 가상 DOM이 존재하는 이유
  - 실제 DOM에는 브라우저가 화면을 그리는데 필요한 모든 정보가 들어있어 실제 DOM을 조작하는 작업은 무겁습니다.
  - React는 실제 DOM의 변경 사항을 빠르게 파악하고 반영하기 위해 내부적으로 가상 DOM을 만들어서 관리합니다.
  - 가상 DOM은 일종의 DOM의 메타데이터, DOM의 요약본이라고 볼 수 있습니다.

### 리액트가 Virtual DOM을 반영하는 절차

- 특정 페이지에서 데이터가 변했다고 가정합니다.
  - 데이터가 업데이트 되면, 전체 UI를 Virtual DOM에 리렌더링합니다.
  - 이전 Virtual DOM에 있던 내용과 현재의 내용을 비교합니다.(가상돔끼리 비교)
  - 바뀐부분만 실제 DOM에 적용이됩니다.

### 예시

- 만약 어떤 게시판에서 다음 페이지를 눌러 리스트 10개(<ul>태그안의 <li>태그)를 변경하는데 DOM에 접근하여 <li>10번을 바꾸지 않고 Virtual DOM을 통해 리스트 10개(<li>태그)를 변경하고 Virtual DOM과 실제 DOM을 비교하여 변경된 부분(<ol>통채로)을 1번만에 변경하여 렌더링도 1번만 일어나게 하는 것입니다.

### Virtual DOM의 한계점

- Virtual DOM은 메모리에 존재합니다. DOM에 준하는 무거운 객체가 메모리에 상주하고 있으므로 메모리의 사용량이 늘어날 수 있습니다.
- VIrtual DOM을 조작하는 것도 엄청나게 많은 컴포넌트를 조작하게 된다면 오버헤드가 생길 수 있습니다.
